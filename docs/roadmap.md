# Progress Map ‚Äî –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ Wiki –Ω–∞ Open-Source –°—Ç–µ–∫–µ

üéØ **–¶–µ–ª—å**: –†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –±–∞–∑—É –∑–Ω–∞–Ω–∏–π (Wiki-—Å–∏—Å—Ç–µ–º—É) –Ω–∞ —Å—Ç–µ–∫–µ React, FastAPI –∏ PostgreSQL —Å –º—É–ª—å—Ç–∏–∞—Ä–µ–Ω–¥–Ω–æ—Å—Ç—å—é (Isolated Schema), –∏–µ—Ä–∞—Ä—Ö–∏–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü (ltree), —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–º Tiptap –∏ RBAC (Casbin).
üì¶ **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ì–æ—Ç–æ–≤–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (frontend + backend) —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π (Docker) –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –¥–µ–ø–ª–æ—è.
‚è±Ô∏è **–®–∞–≥–æ–≤**: ~23 (7 —Ñ–∞–∑)

## RTM (Requirement Traceability Matrix)

| # | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –¢–∏–ø | –§–∞–π–ª/–ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –í–µ—Ä—Å–∏—è |
|---|-----------|-----|----------------|--------|--------|
| 1 | –§—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–∞ React + Ant Design 5.x (–Ω–∏–∫–∞–∫–æ–≥–æ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ CSS) | –Ø–≤–Ω–æ–µ | Frontend | üî≤ TODO | v1 |
| 2 | –ë—ç–∫–µ–Ω–¥ –Ω–∞ FastAPI + Pydantic (—Ç–∏–ø–∏–∑–∞—Ü–∏—è) | –Ø–≤–Ω–æ–µ | Backend | üî≤ TODO | v1 |
| 3 | –ë–î PostgreSQL —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º `ltree` –∏ FTS | –Ø–≤–Ω–æ–µ | Database | üî≤ TODO | v1 |
| 4 | –•—Ä–∞–Ω–µ–Ω–∏–µ –º–µ–¥–∏–∞ –≤ MinIO S3 (Presigned URLs) | –Ø–≤–Ω–æ–µ | Storage/API | üî≤ TODO | v1 |
| 5 | –ò–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö: Isolated Schema (–æ–¥–Ω–∞ –ë–î, –º–Ω–æ–≥–æ —Å—Ö–µ–º) | –Ø–≤–Ω–æ–µ | DB/Middleware | üî≤ TODO | v1 |
| 6 | –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ tenant –ø–æ –ø–æ–¥–¥–æ–º–µ–Ω—É/–∑–∞–≥–æ–ª–æ–≤–∫—É | –Ø–≤–Ω–æ–µ | Backend Middleware| üî≤ TODO | v1 |
| 7 | –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü (–≥–ª—É–±–∏–Ω–∞ 4+), ltree | –Ø–≤–Ω–æ–µ | DB/API | üî≤ TODO | v1 |
| 8 | –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä Tiptap | –Ø–≤–Ω–æ–µ | Frontend | üî≤ TODO | v1 |
| 9 | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–∏–∞–≥—Ä–∞–º–º Mermaid.js –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä | –Ø–≤–Ω–æ–µ | Frontend | üî≤ TODO | v1 |
| 10| –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (JWT) –∏ RBAC —á–µ—Ä–µ–∑ Casbin | –Ø–≤–Ω–æ–µ | Backend | üî≤ TODO | v1 |
| 11| Full-Text Search –≤ PostgreSQL (`tsvector`, –ø–æ–∏—Å–∫/—Ç–µ–≥–∏) | –Ø–≤–Ω–æ–µ | DB/API | üî≤ TODO | v1 |
| 12| –ü—É–±–ª–∏—á–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (UUID v4 + expires_at)| –Ø–≤–Ω–æ–µ | Backend | üî≤ TODO | v1 |
| 13| Slug-–Ω–∞–≤–∏–≥–∞—Ü–∏—è –∏ Redirects | –Ø–≤–Ω–æ–µ | Backend/Frontend| üî≤ TODO | v1 |

### –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã
–ù–µ—Ç –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–µ.

## Progress Map

### –§–∞–∑–∞ 1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑–æ–≤–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- [ ] 1.1 –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞ (backend –∏ frontend –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏) ‚Üí –∞—Ä—Ç–µ—Ñ–∞–∫—Ç: —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞: `ls`
- [ ] 1.2 –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ FastAPI (requirements.txt / Pydantic) ‚Üí –∞—Ä—Ç–µ—Ñ–∞–∫—Ç: requirements.txt ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞: —É—Å–ø–µ—à–Ω—ã–π `pip install`
- [ ] 1.3 –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å React (Vite/CRA) —Å Ant Design 5.x ‚Üí –∞—Ä—Ç–µ—Ñ–∞–∫—Ç: package.json ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞: —É—Å–ø–µ—à–Ω–∞—è —Å–±–æ—Ä–∫–∞ frontend
- [ ] 1.4 –°–æ–∑–¥–∞—Ç—å Docker Compose (PostgreSQL, MinIO, Backend, Frontend) ‚Üí –∞—Ä—Ç–µ—Ñ–∞–∫—Ç: docker-compose.yml ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞: –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è
üìå Checkpoint: –ë–∞–∑–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –ø–æ–¥–Ω—è—Ç–æ.

### –§–∞–∑–∞ 2: –ë–î –∏ –ú—É–ª—å—Ç–∏–∞—Ä–µ–Ω–¥–Ω–æ—Å—Ç—å (Isolated Schema)
- [ ] 2.1 –ü–æ–¥–∫–ª—é—á–∏—Ç—å PostgreSQL (SQLAlchemy) ‚Üí –∞—Ä—Ç–µ—Ñ–∞–∫—Ç: database.py ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞: –∫–æ–Ω–Ω–µ–∫—Ç —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è
- [ ] 2.2 –†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –ª–æ–≥–∏–∫—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ö–µ–º–∞–º–∏ –¥–ª—è Tenant ‚Üí –∞—Ä—Ç–µ—Ñ–∞–∫—Ç: tenancy/schemas.py ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞: —Å—Ö–µ–º—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è
- [ ] 2.3 –î–æ–±–∞–≤–∏—Ç—å FastAPI Middleware –¥–ª—è `tenant_id` ‚Üí –∞—Ä—Ç–µ—Ñ–∞–∫—Ç: middleware/tenant.py ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞: ID –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∏–∑ –∑–∞–ø—Ä–æ—Å–∞ –∏ –ø–æ–¥–º–µ–Ω—è–µ—Ç `search_path`
üìå Checkpoint: –ò–∑–æ–ª—è—Ü–∏—è –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–æ–≤ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç.

### –§–∞–∑–∞ 3: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ RBAC (Casbin)
- [ ] 3.1 –ú–æ–¥–µ–ª—å –£—á—ë—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (Auth —á–µ—Ä–µ–∑ JWT) ‚Üí –∞—Ä—Ç–µ—Ñ–∞–∫—Ç: models/user.py, auth.py ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞: –≤—ã–¥–∞—á–∞/–≤–∞–ª–∏–¥–∞—Ü–∏—è JWT —Ç–æ–∫–µ–Ω–∞
- [ ] 3.2 –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é Casbin (—Å –¥–æ–º–µ–Ω–∞–º–∏) ‚Üí –∞—Ä—Ç–µ—Ñ–∞–∫—Ç: authz/casbin_config ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞: –ø–æ–ª–∏—Ç–∏–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- [ ] 3.3 –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑–æ–≤—ã—Ö —Ä–æ–ª–µ–π (Viewer, Editor, Admin, Owner) ‚Üí –∞—Ä—Ç–µ—Ñ–∞–∫—Ç: —Ä–æ–ª–∏ Casbin ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞: –∑–∞–ø—Ä–æ—Å –±–µ–∑ –ø—Ä–∞–≤ (403) –∏ —Å –ø—Ä–∞–≤–∞–º–∏ (200)
üìå Checkpoint: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≥–æ—Ç–æ–≤—ã.

### –§–∞–∑–∞ 4: –ò–µ—Ä–∞—Ä—Ö–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü (ltree)
- [ ] 4.1 –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å Page (ltree, slug) –∏ –º–∏–≥—Ä–∞—Ü–∏–∏ ‚Üí –∞—Ä—Ç–µ—Ñ–∞–∫—Ç: models/page.py ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞: –º–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è
- [ ] 4.2 –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã CRUD —Å—Ç—Ä–∞–Ω–∏—Ü (–ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –¥–µ—Ä–µ–≤–∞) ‚Üí –∞—Ä—Ç–µ—Ñ–∞–∫—Ç: routers/pages.py ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞: –¥–µ—Ä–µ–≤–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤—ã—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –¥–æ 4 —É—Ä–æ–≤–Ω—è
- [ ] 4.3 –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `Tree` –æ—Ç Ant Design –Ω–∞ –§—Ä–æ–Ω—Ç–µ–Ω–¥–µ ‚Üí –∞—Ä—Ç–µ—Ñ–∞–∫—Ç: SidebarTree.tsx ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞: –¥–µ—Ä–µ–≤–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ UI
üìå Checkpoint: –ú–æ–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –¥–µ—Ä–µ–≤–æ–º —Å—Ç—Ä–∞–Ω–∏—Ü.

### –§–∞–∑–∞ 5: Tiptap –†–µ–¥–∞–∫—Ç–æ—Ä –∏ Mermaid
- [ ] 5.1 –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä Tiptap ‚Üí –∞—Ä—Ç–µ—Ñ–∞–∫—Ç: Editor.tsx ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞: —Ç–µ–∫—Å—Ç –º–æ–∂–Ω–æ –Ω–∞–±–∏—Ä–∞—Ç—å –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å
- [ ] 5.2 –°–æ–∑–¥–∞—Ç—å Custom NodeView –¥–ª—è Mermaid.js ‚Üí –∞—Ä—Ç–µ—Ñ–∞–∫—Ç: MermaidBlock.tsx ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞: –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ –∫–æ–¥–∞ —Ä–∏—Å—É–µ—Ç—Å—è –¥–∏–∞–≥—Ä–∞–º–º–∞
- [ ] 5.3 –ú–µ—Ö–∞–Ω–∏–∑–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (—Å–µ—Ä–≤–µ—Ä–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è JSON/Markdown) ‚Üí –∞—Ä—Ç–µ—Ñ–∞–∫—Ç: Editor.tsx + API ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞: –∫–æ–Ω—Ç–µ–Ω—Ç –æ—Å—Ç–∞—ë—Ç—Å—è –ø–æ—Å–ª–µ F5
üìå Checkpoint: –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü.

### –§–∞–∑–∞ 6: MinIO S3 –∏ FTS (–ü–æ–∏—Å–∫)
- [ ] 6.1 –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é Presigned URLs –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏/—á—Ç–µ–Ω–∏—è ‚Üí –∞—Ä—Ç–µ—Ñ–∞–∫—Ç: routers/media.py ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞: –≤—ã–¥–∞—ë—Ç—Å—è –≤–∞–ª–∏–¥–Ω—ã–π S3-url
- [ ] 6.2 –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑—á–∏–∫ –º–µ–¥–∏–∞ –≤ Tiptap ‚Üí –∞—Ä—Ç–µ—Ñ–∞–∫—Ç: UploadNode.tsx ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞: —Ñ–∞–π–ª –ª–µ—Ç–∏—Ç –≤ S3, –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —Ç–µ–∫—Å—Ç–µ
- [ ] 6.3 –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Full-Text Search (tsvector, –∏–Ω–¥–µ–∫—Å—ã GIN) ‚Üí –∞—Ä—Ç–µ—Ñ–∞–∫—Ç: search.py (—Å–µ—Ä–≤–∏—Å) ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞: –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫
- [ ] 6.4 –î–æ–±–∞–≤–∏—Ç—å UI –ø–æ–∏—Å–∫–∞ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π (ts_headline) ‚Üí –∞—Ä—Ç–µ—Ñ–∞–∫—Ç: SearchBar.tsx ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞: —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ
üìå Checkpoint: –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ –∏ –ø–æ–∏—Å–∫ –≥–æ—Ç–æ–≤—ã.

### –§–∞–∑–∞ 7: –ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø –∏ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] 7.1 –î–æ–±–∞–≤–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –ø—É–±–ª–∏—á–Ω—ã—Ö UUID —Å—Å—ã–ª–æ–∫ ‚Üí –∞—Ä—Ç–µ—Ñ–∞–∫—Ç: models/shared_link.py ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞: —Å–æ–∑–¥–∞–Ω–∏–µ read-only view
- [ ] 7.2 –ú–µ—Ö–∞–Ω–∏–∑–º —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤ (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö Slug) ‚Üí –∞—Ä—Ç–µ—Ñ–∞–∫—Ç: routers/redirects.py ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞: —Å—Ç–∞—Ä—ã–µ —Å—Å—ã–ª–∫–∏ –≤–µ–¥—É—Ç –Ω–∞ –Ω–æ–≤—ã–µ
- [ ] 7.3 –°–∫–≤–æ–∑–Ω–æ–π —Ç–µ—Å—Ç —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –æ—Ç —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ ‚Üí –∞—Ä—Ç–µ—Ñ–∞–∫—Ç: walkthrough.md ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞: —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Å–º–æ—É–∫-—Ç–µ—Å—Ç —É—Å–ø–µ—à–µ–Ω
üìå Checkpoint: –ì–æ—Ç–æ–≤–æ –∫ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º—É —Ä–µ–≤—å—é.
